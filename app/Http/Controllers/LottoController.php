<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class LottoController extends Controller
{
    public function index(){
        $numbers = [

            ['02 07 10 12 20 34 05','30/01/2019','Miercoles'],
            ['01 04 07 13 20 28 05','26/01/2019','Sabado'],
            ['15 19 26 32 33 36 09','23/01/2019','Miercoles'],
            ['02 07 09 13 16 33 01','19/01/2019','Sabado'],
            ['03 22 23 26 29 37 05','16/01/2019','Miercoles'],
            ['15 25 32 33 36 37 01','12/01/2019','Sabado'],
            ['08 09 15 26 28 32 01','09/01/2019','Miercoles'],
            ['03 15 17 26 36 38 08','05/01/2019','Sabado'],
            ['02 05 09 17 31 37 05','02/01/2019','Miercoles'],

            ['04 08 27 29 30 35 08','29/12/2018','Sabado'],
            ['03 05 14 21 23 30 08','26/12/2018','Miercoles'],
            ['05 14 19 20 32 37 05','22/12/2018','Sabado'],
            ['01 05 07 13 26 36 05','19/12/2018','Miercoles'],
            ['12 14 32 34 36 37 06','15/12/2018','Sabado'],
            ['19 21 27 30 34 37 08','12/12/2018','Miercoles'],
            ['04 19 21 28 33 38 10','08/12/2018','Sabado'],
            ['04 06 15 31 36 37 06','05/12/2018','Miercoles'],
            ['09 10 11 13 29 38 02','01/12/2018','Sabado'],

            ['12 18 19 20 23 28 03','28/11/2018','Miercoles'],
            ['07 09 12 23 32 36 06','24/11/2018','Sabado'],
            ['04 12 20 21 29 32 02','21/11/2018','Miercoles'],
            ['08 21 25 27 34 38 01','17/11/2018','Sabado'],
            ['05 09 15 21 22 34 02','14/11/2018','Miercoles'],
            ['11 20 23 26 35 36 04','10/11/2018','Sabado'],
            ['03 06 15 26 32 34 06','07/11/2018','Miercoles'],
            ['08 14 16 18 32 33 10','03/11/2018','Sabado'],

            ['03 04 07 10 27 32 04','31/10/2018','Miercoles'],
            ['08 16 18 22 28 37 07','27/10/2018','Sabado'],
            ['01 13 14 26 28 30 02','10/10/2018','Miercoles'],
            ['07 08 23 25 31 36 02','10/10/2018','Sabado'],
            ['04 12	22 28 31 35 04','10/10/2018','Miercoles'],
            ['03 10 15 18 23 28 07','06/10/2018','Sabado'],

            ['12 15 16 21 32 36 02','26/09/2018','Miercoles'],
            ['12 19 23 24 28 34 05','26/09/2018','Sabado'],
            ['05 11 12 17 27 37 08','26/09/2018','Miercoles'],
            ['03 05 14 21 34 36 07','19/09/2018','Sabado'],
            ['07 11 23 26 30 33 04','15/09/2018','Miercoles'],
            ['02 10 12 15 26 38 05','12/09/2018','Sabado'],
            ['01 02 11 22 30 32 02','08/09/2018','Miercoles'],
            ['02 16 17 20 24 25 04','05/09/2018','Sabado'],
            ['02 06 14 31 32 38 01','01/09/2018','Miercoles'],

            ['02 07 11 26 33 36 03','29/08/2018','Sabado'],
            ['01 05 10 32 37 38 03','25/08/2018','Miercoles'],
            ['06 12 16 24 25 38 06','22/08/2018','Sabado'],
            ['03 07 11 30 31 32 07','18/08/2018','Miercoles'],
            ['07 11 12 23 24 32 09','15/08/2018','Sabado'],
            ['01 02 06 08 15 19 06','11/08/2018','Miercoles'],
            ['01 03 18 21 23 34 06','08/08/2018','Sabado'],
            ['01 12 15 18 25 37 06','04/08/2018','Miercoles'],
            ['01 13 14 22 24 38 02','01/08/2018','Sabado'],

            ['06 07 09 13 24 32 02','28/07/2018','Miercoles'],
            ['07 22 23 24 30 36 08','25/07/2018','Sabado'],
            ['13 19 21 27 33 35 07','21/07/2018','Miercoles'],
            ['16 18 19 25 28 32 03','18/07/2018','Sabado'],
            ['01 12 13 25 26 32 01','14/07/2018','Miercoles'],
            ['04 09 14 15 29 38 02','11/07/2018','Sabado'],
            ['10 11 12 15 21 24 04','07/07/2018','Miercoles'],
            ['07 08 10 12 20 38 02','04/07/2018','Sabado'],
            ['02 07 18 26 30 33 08','30/06/2018','Miercoles'],
        ];
        $games = [];
        $plus = [];
        $winner = $numbers[0];

        foreach($numbers as $key=>$data)
        {
            $game = explode(" ",$data[0]);
            foreach($game  as $key=>$number)
            {
                $n = (int)$number; //convert to int

                if($key <6)
                {
                    if(isset($games[$n]) )
                        $games[$n]++;
                    else
                        $games[$n]=1;
                }elseif($key==6)
                {
                    if(isset($plus[$n]) )
                        $plus[$n]++;
                    else
                        $plus[$n]=1;
                }
            }
        }

//        krsort($games);
        asort($games);
        asort($plus);
        return view('lotto',compact('plus','numbers','games','winner'));
    }
}
